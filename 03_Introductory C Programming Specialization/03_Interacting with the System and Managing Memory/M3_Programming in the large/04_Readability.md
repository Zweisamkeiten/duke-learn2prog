---
date created: 2022-10-20 16:38
date updated: 2022-10-20 16:38
---

## 可读性

编写可以被自己和他人阅读和理解的代码是一项至关重要的技能，因为您在具有更长生命周期的大型项目中开发代码。 代码设计和实现的许多方面都有助于其可读性.

虽然正确的代码很重要，但让不可读的代码正常工作更难
![](attachments/Pasted%20image%2020221020163312.png)

## 函数大小

较小的函数比较大的函数更容易阅读和理解（也更容易编写）

指导原则: 应该能够在不滚动的情况下一次阅读整个内容.

## 命名

#important #命名约定

用于标识符的名称可能会显着提高（或显着降低）代码的可读性。 命名您的变量、函数和类型以表明它们的含义和/或作用。 如果您可以通过阅读它的名称来判断某物的作用，那么您不必（那么努力）就可以弄清楚它。 当然，与此同时，您不应该以过长的方式为变量命名，这会使输入变得繁琐。

一个好的经验法则是，变量名称的长度应该与其作用域的大小和使用的复杂性成正比。 是合理的， **将 for 循环的计数器变量命名为i** 因为它具有相对较小的范围（一个循环）和简单的用途（它很重要：您可以通过阅读声明它的 for 循环来判断）。 因此，函数和类型通常应该具有相对描述性的名称。 它们（通常）存在于相当大的范围内（到目前为止，我们看到的所有功能都具有整个程序的范围），并执行复杂的任务。

命名约定。 一种是在类型名称上放置一个 `_t`  后缀（ _例如_ ） **color_t** 。 另一个是用所有大写字母书写常量的名称。

如何将多个单词“粘合在一起”，因为变量名中不允许使用空格。 两种主要方法是在需要空格的任何地方使用下划线 (_)（ _num_letters_skipped_ ） **例如** 。 另一种是将除第一个以外的单词的第一个字母大写（ _例如_ ， **numLettersSkipped** ）——这种方法称为“内大写”（也称为“驼峰式”）。 这两种方法中的任何一种都很好，尽管许多程序员 _强烈_ 偏爱其中一种。 我们注意到，“内大写”也可以应用于按照约定在第一个单词上以大写字母开头的名称，例如类名

## 格式化

代码应该缩进以反映块结构

```c
// Java style
int sumNums (int n) {
	int total = 0;
	for (int i = 0; i < n; i++) {
		total = total + n;
	}
	return total;
}
```

将左大括号与其所属的 if/else/for/ ... 放在同一行 **有助于** **避免** 程序员不小心将一行代码添加到正文中，但错误地将其放在大括号之前的错误

例如
```c
if (hasPrivileges (user))
logActivity(user,action); //accidentally added in wrong place
{
	someSecureActivity(action);
}
```
会等价于
```c
if (hasPrivileges (user)) {
	logActivity(user,action);
}
someSecureActivity(action);
```

建议始终使用花括号的大括号样式，即使它们可以在单行块周围省略。 省略它们可以使引入错误更容易。

## 注释和文档

经验法则可以帮助编写更好的文档：

### 记录大型设计
当您设计更大的程序时，您将有多个组合在一起的部分。 描述它们如何组合在一起。 模块之间的接口是什么？ 整个系统的不变量是什么？

### 描述每个组件
对于系统的每个组件（函数、对象（如果您使用 C++）或文件），请在开头写一个描述它的注释。 从描述接口开始，对于任何只需要使用组件而不需要了解其实现细节的人。 对于函数，请描述每个参数的含义，以及对其值的任何限制。 描述函数返回什么。 如果它有任何副作用，请解释它们。

继续为需要修改它的任何人描述实现细节。 如果它使用众所周知的算法，请说出来。 如果它使用您自己设计的算法，请解释该算法的工作原理。

### 不要过多过于明显的注释
描述显而易见的注释会适得其反——它们使代码混乱，而没有提供有用的信息

![](attachments/Pasted%20image%2020221020164703.png)

函数开头的更好注释提供了更多信息
![](attachments/Pasted%20image%2020221020164721.png)

### 解释意外
#newget 
如果您的代码包含不寻常的内容，例如正确但可能看起来错误的陈述，您应该记录该陈述正确的原因。 当不熟悉代码的人阅读它时，该文档将使他们不必怀疑代码的异常方面是否是错误——他们可以简单地阅读解释，而不是试图找出它是否被破坏。 一般来说，如果您认为有人会问“为什么要这样做？” 或“对吗？” 你应该先用评论回答这个问题。

例如，描述 **i** 初始化的注释解释了为什么它被初始化为 -1，这可能会让不熟悉的读者感到困惑（甚至看起来像是一个错误）。

