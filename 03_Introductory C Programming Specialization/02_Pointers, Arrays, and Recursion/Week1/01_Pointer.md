---
date created: 2022-10-13 09:48
date updated: 2022-10-13 09:49
---

## 指针基础

指针是一种引用变量的地址的方式.

### 声明指针

在 C 中,指针本身不是一种类型. 它是一种类型构造器,作用于另一种类型上,返回一种新的类型.

`type * [pointer_name]` 声明一个指针的类型是指向一种 type.

### 指针赋值

初始化一个指针通过给予它一个指向的对象. 如果不进行初始化,指针会指向一个随机的地址.

`&` (ampersand) 操作符 被称作 `address-of` 取地址符. **xPtr = &x**, 将 x 变量的地址赋给指针变量 xPtr. address-of 运算符可以应用于任何左值（左值是“命名框”的表达式）并计算为指向由左值命名的盒子的指针。到目前为止，我们看到的唯一一种左值是变量. 程序员无法改变变量的地址.

取地址符是一个一元符, 不要将他的运算符与二元运算符相混淆——二元运算符是一个接受两个操作数的运算符。 二元运算符 & 执行按位与（对两个操作数的每个二进制位执行布尔与）

### 取消引用指针

`*` 解地址符. `*xPtr = 6`, 改变 xPtr 指向的地址代表的变量的值.

不要被您将看到星号 (`*`) 符号的两种上下文混淆。

在变量声明中，例如 `int *p;`)，星号是类型名称的一部分，它告诉我们我们想要一个指向其他类型的指针（在我们的示例中，int * 是 p 的类型）。

在表达式中，星号是取消引用运算符。 例如，代码 `r = *p;` 给变量 ra 一个新值，即 p（它是一个箭头）指向的框内的值。

代码 `*p = r;` 将 p 指向的框内的值变为一个新值，即变量 r 的值。 与往常一样，请记住，您可以将带有初始化的声明视为两个语句： `int * q = &y;` 与 `int *q ； q = &y;` 两条语句相同。

通常，当您使用指针时，您将首先使用星号来声明变量，然后再取消引用它。 只有指针类型的变量才能被取消引用。

## 画图

通过画图来梳理指针的使用.

指针是变量，在声明时应该像任何其他变量一样绘制。 画一个方框，左边是变量的名称，右边是变量的值。 当一个指针已被声明但尚未初始化时，它不知道指针指向的位置。 未初始化的值可以用问号表示，就像其他类型的未初始化变量一样。

![](attachments/Pasted%20image%2020221013095224.png)

右侧（ _;_ 语句 _x = y_ 中的 y ）称为 _rvalue_ 。 这是将放置在框/左值内的值。 随着指针的引入，我们添加了两种可以出现在右值中的新类型的表达式：左值的地址 ( _&x_ ) 和取消引用指针 ( _*p_ )。